<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>about:remotesettings</title>
    <link rel="stylesheet" href="chrome://aboutremotesettings/content/style.css"
          type="text/css"/>
  </head>
  <body>
    <h1>Remote settings</h1>

    <section id="action-box">
      <h3>Sync actions</h3>
      <button id="xml-refresh">XML refresh</button>
      <button id="run-poll">Poll server</button>
      <button id="clear-poll-data">Clear poll data</button>
      <button id="clear-all-data">Clear ALL local data</button>
    </section>

    <section id="blocklists-settings">
      <h2>Configuration</h2>
      <label>
        Environment
        <select id="environment">
          <option value="custom"></option>
          <option value="prod">Prod</option>
          <option value="prod-preview">Prod (preview)</option>
          <option value="stage">Stage</option>
          <option value="stage-preview">Stage (preview)</option>
        </select>
      </label>
      <dl>
        <dt>Server</dt>
        <dd><a id="server">N/A</a></dd>
      </dl>
      <dl>
        <dt>Blocklists buckets</dt>
        <dd id="blocklists-bucket">N/A</dd>
      </dl>
      <dl>
        <dt>Pinning bucket</dt>
        <dd id="pinning-bucket">N/A</dd>
      </dl>
      <dl>
        <dt>Update enabled</dt>
        <dd id="blocklists-enabled">N/A</dd>
      </dl>
      <dl>
        <dt>Pinning enabled</dt>
        <dd id="pinning-enabled">N/A</dd>
      </dl>
      <dl>
        <dt>OneCRL via AMO</dt>
        <dd id="onecrl-amo">N/A</dd>
      </dl>
      <dl>
        <dt>Signing enforced</dt>
        <dd id="signing">N/A</dd>
      </dl>
      <dl>
        <dt>Root hash</dt>
        <dd id="root-hash">N/A</dd>
      </dl>
      <dl>
        <dt>Load local dumps</dt>
        <dd id="load-dump">N/A</dd>
      </dl>
    </section>

    <section id="xml-status">
      <h2>XML Status</h2>
      <dl>
        <dt>URL</dt>
        <dd>(guessed) <a id="xml-url">N/A</a></dd>
      </dl>
      <dl>
        <dt>Interval</dt>
        <dd><span id="xml-interval">N/A</span> seconds</dd>
      </dl>
      <dl>
        <dt>Ping count</dt>
        <dd><span id="xml-pingcount">N/A</span></dd>
      </dl>
      <dl>
        <dt>Ping total</dt>
        <dd><span id="xml-pingtotal">N/A</span></dd>
      </dl>
      <dl>
        <dt>Last update</dt>
        <dd><span id="xml-lastupdate">N/A</span> (<span id="xml-agedays">?</span> days)</dd>
      </dl>
    </section>

    <section id="polling-status">
      <h2>Polling status</h2>
      <div id="polling-error" class="error"></div>
      <dl>
        <dt>URL</dt>
        <dd><a id="polling-url"></a></dd>
      </dl>
      <dl>
        <dt>Local timestamp</dt>
        <dd id="human-timestamp">N/A</dd>
        <dd id="timestamp">N/A</dd>
      </dl>
      <dl>
        <dt>Last check</dt>
        <dd id="last-poll">N/A</dd>
      </dl>
      <dl>
        <dt>Clock Skew</dt>
        <dd><span id="clockskew">N/A</span>s</dd>
      </dl>
      <dl>
        <dt>Backoff</dt>
        <dd id="backoff">N/A</dd>
      </dl>
    </section>

    <section id="blocklists-status"></section>
    <section id="telemetry-events">
      <h2>Telemetry Events</h2>
      <ul placeholder="(None yet)"></ul>
    </section>

    <template id="collection-status-tpl">
      <div class="blocklist-status">
        <h2 class="blocklist"></h2>
        <dl class="url">
          <dt>URL</dt>
          <dd><a></a></dd>
        </dl>
        <dl>
          <dt>Remote timestamp</dt>
          <dd class="human-timestamp"></dd>
          <dd class="timestamp"></dd>
        </dl>
        <dl>
          <dt>Last check</dt>
          <dd class="last-check"></dd>
        </dl>
        <dl>
          <dt>Local timestamp</dt>
          <dd class="human-local-timestamp"></dd>
          <dd class="local-timestamp"></dd>
        </dl>
        <dl>
          <dt>Local records</dt>
          <dd class="nb-records"></dd>
        </dl>
        <button class="sync">Force sync</button>
        <button class="clear-data">Clear local data</button>
        <div class="error"></div>
      </div>
    </template>

    <template id="telemetry-event-tpl">
      <li><span class="source"></span> <span class="status"></span></li>
    </template>

    <script type="text/javascript" src="chrome://aboutremotesettings/content/script.js"></script>
  </body>
</html>
