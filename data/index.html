<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>about:remotesettings</title>
    <link rel="stylesheet" href="chrome://aboutremotesettings/content/style.css"
          type="text/css"/>
  </head>
  <body>
    <h1>Remote settings</h1>

    <section id="action-box">
      <h3>Sync actions</h3>
      <button id="run-poll" title="Poll for changes of remote settings">Poll server</button>
      <button id="clear-poll-data" title="Clear polling status">Clear poll data</button>
      <button id="clear-all-data" title="Clear every local data">Clear ALL local data</button>
    </section>

    <section id="settings">
      <h2>Configuration</h2>
      <label>
        Environment
        <select id="environment">
          <option value="custom"></option>
          <option value="prod">Prod</option>
          <option value="prod-preview">Prod (preview)</option>
          <option value="stage">Stage</option>
          <option value="stage-preview">Stage (preview)</option>
        </select>
      </label>
      <dl>
        <dt>Server</dt>
        <dd><a id="server">N/A</a></dd>
      </dl>
      <dl>
        <dt>Blocklists bucket</dt>
        <dd id="blocklists-bucket">N/A</dd>
      </dl>
      <dl>
        <dt>Pinning bucket</dt>
        <dd id="pinning-bucket">N/A</dd>
      </dl>
      <dl>
        <dt>Pinning enabled</dt>
        <dd id="pinning-enabled">N/A</dd>
      </dl>
      <dl>
        <dt>Verify signature</dt>
        <dd id="verify-signature">N/A</dd>
      </dl>
      <dl>
        <dt>Root hash</dt>
        <dd id="root-hash">N/A</dd>
      </dl>
      <dl>
        <dt>Load local dumps</dt>
        <dd id="load-dump">N/A</dd>
      </dl>
    </section>

    <section id="polling-status">
      <h2>Polling status</h2>
      <div id="polling-error" class="error"></div>
      <dl>
        <dt>URL</dt>
        <dd><a id="polling-url"></a></dd>
      </dl>
      <dl>
        <dt>Local timestamp</dt>
        <dd id="human-poll-timestamp">N/A</dd>
        <dd id="poll-timestamp">N/A</dd>
      </dl>
      <dl>
        <dt>Last check</dt>
        <dd id="last-poll">N/A</dd>
      </dl>
      <dl>
        <dt>Clock Skew</dt>
        <dd><span id="clockskew">N/A</span>s</dd>
      </dl>
      <dl>
        <dt>Backoff</dt>
        <dd id="backoff">N/A</dd>
      </dl>
    </section>

    <section id="status">
      <table>
        <thead>
          <tr>
            <th>Collection</th>
            <th>Local Records</th>
            <th>Last Check</th>
            <th>Remote Timestamp</th>
            <th>Local Timestamp</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
        </tbody>
      </table>
    </section>

    <section id="telemetry-events">
      <h2>Uptake Telemetry Events</h2>
      <ul placeholder="None yet, first run sync actions."></ul>
    </section>

    <template id="collection-status-tpl">
      <tr class="collection-status">
        <td>
          <a class="url"></a>
          <div class="error"></div>
        </td>
        <td class="nb-records"></td>
        <td class="last-check"></td>
        <td>
          <span class="human-remote-timestamp"></span>
          <span class="remote-timestamp"></span>
        </td>
        <td>
          <span class="human-local-timestamp"></span>
          <span class="local-timestamp"></span>
        </td>
        <td>
          <button class="sync">Force sync</button>
          <button class="clear-data">Clear local data</button>
        </td>
      </tr>
    </template>

    <template id="telemetry-event-tpl">
      <li>
        <span class="time"></span>
        <span class="source"></span>
        <span class="status"></span></li>
    </template>

    <script type="text/javascript" src="chrome://aboutremotesettings/content/script.js"></script>
  </body>
</html>
